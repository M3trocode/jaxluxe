<!DOCTYPE html>
{% load static %}

<html lang="en">
<head>
<title>{{product.name}}</title>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="description" content="Jax Lux">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" type="text/css" href="{% static 'categories/styles/bootstrap4/bootstrap.min.css' %}">
<link href="{% static 'categories/plugins/font-awesome-4.7.0/css/font-awesome.min.css' %}" rel="stylesheet" type="text/css">
<link rel="stylesheet" type="text/css" href="{% static 'categories/plugins/OwlCarousel2-2.2.1/owl.carousel.css' %}">
<link rel="stylesheet" type="text/css" href="{% static 'categories/plugins/OwlCarousel2-2.2.1/owl.theme.default.css' %}">
<link rel="stylesheet" type="text/css" href="{% static 'categories/plugins/OwlCarousel2-2.2.1/animate.css' %}">
<link rel="stylesheet" href="{% static 'categories/plugins/themify-icons/themify-icons.css' %}">
<link rel="stylesheet" type="text/css" href="{% static 'categories/plugins/jquery-ui-1.12.1.custom/jquery-ui.css' %}">
<link rel="stylesheet" type="text/css" href="{% static 'categories/styles/single_styles.css' %}">
<link rel="stylesheet" type="text/css" href="{% static 'categories/styles/single_responsive.css' %}">
<script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>

<link href="{% static "assets/images/intro/icon.png" %}" rel="icon">
<style>
	/* Style for the logo image */
	.logo_container img {
		max-width: 140px; /* Ensure the logo doesn't exceed its parent's width */
		height: auto; /* Maintain the aspect ratio */
	}
	/* Style for the search icon */
	.fa-search {
		font-size: 18px;
		color: #333; /* Change the color to your preference */
		cursor: pointer;
	}
	
	
	/* Style for the search overlay */
	.search-overlay {
		display: none;
		position: absolute;
		top: 100%;
		right: 0;
		background-color: white; /* Dark background color similar to Spotify */
		border: 1px solid #CEAE67; /* Border color */
		border-radius: 4px;
		padding: 10px;
		width: 300px; /* Adjust the width as needed */
		box-shadow: 0px 4px 15px rgba(0, 0, 0, 0.4); /* Box shadow for a subtle effect */
		z-index: 999; /* Ensure the overlay appears above other elements */
	}
	
	/* Style for the search form within the overlay */
	.search-form {
		display: flex;
		align-items: center;
	}
	
	.search-form input[type="text"] {
		border: none;
		outline: none;
		background-color: transparent;
		color: black; /* Text color */
		flex-grow: 1;
		font-size: 16px;
		padding: 5px;
	}
	
	.search-form button {
		background: none;
		border: none;
		padding: 0;
		cursor: pointer;
		color: #fff; /* Button color */
		font-size: 18px;
		margin-left: 10px;
	}
	
	/* Style for the search form when focused */
	.search-form input[type="text"]:focus {
		/* Add your focus styles here */
		border-bottom: 2px solid #CEAE67; /* Highlight when focused */
	}
	
	/* Additional styling for the container if needed */
	/*.logo_container {*/
		/* Add any additional styling you need here */
	/*}*/
	
	</style>
</head>

<body>

	<div class="super_container">

		<!-- Header -->
	
		<header class="header trans_300">
	
	
			
	
			<!-- Main Navigation -->
	
			<div class="main_nav_container">
				<div class="container">
					<div class="row">
						<div class="col-lg-12 text-right">
							<div class="logo_container">
							<img src="{% static 'assets/images/Landscape logo.png' %}" alt="Logo">
	
							</div>
							<nav class="navbar">
								<ul class="navbar_menu">
									<li><a href="/">Home</a></li>
									<li><a href="{% url "categories" "Skin-Product" %}">Store</a></li>
									<li><a href="#">Blog</a></li>
									<li><a href="#">Helpline</a></li>
								</ul>
								<ul class="navbar_user">
									<li>
										<div class="search-icon" id="search-icon">
											<i class="fa fa-search" aria-hidden="true"></i>
										</div>
										<div class="search-overlay" id="search-overlay">
											{% comment %} <form class="search-form" action="#" method="GET">
												<input type="text" name="search" placeholder="Search" required>
												<button type="submit"><i class="fa fa-search" aria-hidden="true"></i></button>
											</form> {% endcomment %}
										</div>
									</li>
															
									
									<li><a href="#"><i class="fa fa-user" aria-hidden="true"></i></a></li>
									<li class="checkout">
										<a href="/cart/">
											<i class="fa fa-shopping-cart" aria-hidden="true"></i>
											<span id="total-items" class="checkout_items">0</span>
										</a>
									</li>
								</ul>
								<div class="hamburger_container">
									<i class="fa fa-bars" aria-hidden="true"></i>
								</div>
							</nav>
						</div>
					</div>
				</div>
			</div>
	
		</header>

	<div class="fs_menu_overlay"></div>

	<!-- Hamburger Menu -->

	<div class="hamburger_menu">
		<div class="hamburger_close"><i class="fa fa-times" aria-hidden="true"></i></div>
		<div class="hamburger_menu_content text-right">
			<ul class="menu_top_nav">
				
				
				
				<li class="menu_item"><a href="/">Home</a></li>
				<li class="menu_item"><a href="{% url "categories" "Skin-Product" %}">Store</a></li>
				<li class="menu_item"><a href="#">Blog</a></li>
				<li class="menu_item"><a href="#">Helpline</a></li>
				<li class="menu_item has-children">
					{% comment %} <a href="#">
						My Account
						<i class="fa fa-angle-down"></i>
					</a> {% endcomment %}
					<ul class="menu_selection">
						<li><a href="/login/"><i class="fa fa-sign-in" aria-hidden="true"></i>Log In</a></li>
						<li><a href="/signup/"><i class="fa fa-user-plus" aria-hidden="true"></i>Sign Up</a></li>
					</ul>
				</li>
			</ul>
		</div>
	</div>

	<div class="container single_product_container">
		<div class="row">
			<div class="col">

				<!-- Breadcrumbs -->

				<div class="breadcrumbs d-flex flex-row align-items-center">
					<ul>
						<li><a href="/">Home</a></li>
						<li><a href="{% url "categories" "Skin-Product" %}"><i class="fa fa-angle-right" aria-hidden="true"></i>Store</a></li>
						<li class="active"><a href="#"><i class="fa fa-angle-right" aria-hidden="true"></i>Item</a></li>
					</ul>
				</div>

			</div>
		</div>

		<div class="row">
			<div class="col-lg-7">
				<div class="single_product_pics">
					<div class="row">
						<div class="col-lg-12 image_col">
							<div class="single_product_image">
								<div class="single_product_image_background" style="background-image:url({{ product.image.url }})"></div>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="col-lg-5">
				<div class="product_details">
					<div class="product_details_title">
						<h2>{{ product.name }}</h2>
						<p>{{ product.description }}</p>
					</div>
	
					<div class="product_price" id="">â‚¦
						<span id="current-product-price">{{ product.price }}</span></div>
	
					<div class="quantity d-flex flex-column flex-sm-row align-items-sm-center">
						<span>Quantity:</span>
						<input type="number" value="1" class="w-25 mb-10" name="" id="product-quantity">
	
						<input type="hidden" value="{{ product.name }}" class="product-name" name="" id="">
						<input type="hidden" value="{{ product.id }}" class="product-id" name="" id="">
						<button data-product-id="{{ product.id }}" 
						data-action="add" 
						class="red_button add_to_cart_button" 
						id="add_to_cart_button">Add to Cart</button>
	
						<div class="product_favorite d-flex flex-column align-items-center justify-content-center"></div>
					</div>
				</div>
			</div>
		</div>
	
	<!-- Tabs -->

	<div class="tabs_section_container">

		<div class="container">
			<div class="row">
				<div class="col">
					<div class="tabs_container">
						<ul class="tabs d-flex flex-sm-row flex-column align-items-left align-items-md-center justify-content-center">
							<li class="tab active" data-active-tab="tab_1"><span>Description</span></li>
							<li class="tab" data-active-tab="tab_2"><span>Additional Information</span></li>
							<li class="tab" data-active-tab="tab_3"><span>Reviews</span></li>
						</ul>
					</div>
				</div>
			</div>
			<div class="row">
				<div class="col">

					<!-- Tab Description -->

					<div id="tab_1" class="tab_container active">
						<div class="row">
							<div class="col-lg-12 desc_col">
								<div class="tab_title">
									<h4>Description</h4>
								</div>
								<div class="tab_text_block">
									<h2>{{product.name}}</h2>
									<p>{{product.description}}</p>
								</div>
								
							</div>
							
							
					
						</div>
					</div>
					
					<!-- Tab Additional Info -->

					<div id="tab_2" class="tab_container">
						<div class="row">
							<div class="col additional_info_col">
								<div class="tab_title additional_info_title">
									<h4>Additional Information</h4>
								</div>
								<p>COLOR:<span>Gold, Red</span></p>
								<p>SIZE:<span>L,M,XL</span></p>
							</div>
						</div>
					</div>

					<!-- Tab Reviews -->

					<div id="tab_3" class="tab_container">
						<div class="row">

							<!-- User Reviews -->

							<div class="col-lg-6 reviews_col">
								<div class="tab_title reviews_title">
									<h4>Reviews</h4>
								</div>

								<!-- User Review -->

								<div class="user_review_container d-flex flex-column flex-sm-row">
									<div class="user">
										
										
									</div>
									<div class="review">
										<div class="review_date">27 Aug 2016</div>
										<div class="user_name">Brandon William</div>
										<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>
									</div>
								</div>

								<!-- User Review -->

								<div class="user_review_container d-flex flex-column flex-sm-row">
									
									<div class="review">
										<div class="review_date">27 Aug 2016</div>
										<div class="user_name">Brandon William</div>
										<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>
									</div>
								</div>
							</div>

							<!-- Add Review -->

							<div class="col-lg-6 add_review_col">

								<div class="add_review">
									<form id="review_form" action="post">
										<div>
											<h1>Add Review</h1>
											<input id="review_name" class="form_input input_name" type="text" name="name" placeholder="Name*" required="required" data-error="Name is required.">
											<input id="review_email" class="form_input input_email" type="email" name="email" placeholder="Email*" required="required" data-error="Valid email is required.">
										</div>
										
										<div class="text-left text-sm-right">
											<button id="review_submit" type="submit" class="red_button review_submit_btn trans_300" value="Submit">submit</button>
										</div>
									</form>
								</div>

							</div>

						</div>
					</div>

				</div>
			</div>
		</div>
		
	</div>

	<!-- Benefit -->

	
	<!-- Newsletter -->

	{% comment %} <div class="newsletter">
		<div class="container">
			<div class="row">
				<div class="col-lg-6">
					<div class="newsletter_text d-flex flex-column justify-content-center align-items-lg-start align-items-md-center text-center">
						<h4>Newsletter</h4>
						<p>Subscribe to our newsletter and get amazing offers and discounts</p>
					</div>
				</div>
				<div class="col-lg-6">
					<form action="post">
						<div class="newsletter_form d-flex flex-md-row flex-column flex-xs-column align-items-center justify-content-lg-end justify-content-center">
							<input id="newsletter_email" type="email" placeholder="Your email" required="required" data-error="Valid email is required.">
							<button id="newsletter_submit" type="submit" class="newsletter_submit_btn trans_300" value="Submit">subscribe</button>
						</div>
					</form>
				</div>
			</div>
		</div>
	</div> {% endcomment %}

	
</div>

<script src="{% static 'categories/js/jquery-3.2.1.min.js' %}"></script>
<script src="{% static 'categories/styles/bootstrap4/popper.js' %}"></script>
<script src="{% static 'categories/styles/bootstrap4/bootstrap.min.js' %}"></script>
<script src="{% static 'categories/plugins/Isotope/isotope.pkgd.min.js' %}"></script>
<script src="{% static 'categories/plugins/OwlCarousel2-2.2.1/owl.carousel.js' %}"></script>
<script src="{% static 'categories/plugins/easing/easing.js' %}"></script>
<script src="{% static 'categories/plugins/jquery-ui-1.12.1.custom/jquery-ui.js' %}"></script>
<script src="{% static 'categories/js/single_custom.js' %}"></script>

<script type="text/javascript">
	// Get references to the search icon and search overlay
const searchIcon = document.getElementById('search-icon');
const searchOverlay = document.getElementById('search-overlay');
window.onload = function() {
	const cartItems = JSON.parse(localStorage.getItem('cart_items') ?? '[]');
const cartTotalItemsElement = document.getElementById('total-items');
console.log(cartTotalItemsElement, cartItems);
cartTotalItemsElement.innerText = cartItems.length;
};

// Toggle the visibility of the search overlay when the search icon is clicked
searchIcon.addEventListener('click', function () {
    if (searchOverlay.style.display === 'block') {
        searchOverlay.style.display = 'none';
    } else {
        searchOverlay.style.display = 'block';
    }
});


    // Add an event listener to the "Add to Cart" button
	const addToCart = document.getElementById('add_to_cart_button');
	addToCart.addEventListener('click', function() {
        let quantity = $('#product-quantity').val();
        let product_name = $('.product-name').val();
        let product_id = $('.product-id').val();
		product_id = parseInt(product_id);
        let product_price = $('#current-product-price').text();

		const cartItems = JSON.parse(localStorage.getItem('cart_items') ?? '[]');

		if (cartItems.find((x) => x.product_id === product_id)){
			const productIdx = cartItems.findIndex((x) => x.product_id === product_id);
			const newQuantity = parseInt(quantity) + parseInt(cartItems[productIdx].quantity);
			cartItems[productIdx].quantity = newQuantity;
		} else{
			cartItems.push({ quantity, product_name, product_id, product_price });
		}

		localStorage.setItem('cart_items', JSON.stringify(cartItems));

        window.location.href = '/cart/';
    });

	
</script>
</body>

</html>
