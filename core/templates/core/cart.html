<!DOCTYPE html>
{% load static %}

<html lang="en">
<head>
<title>Cart</title>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="description" content="Jax Lux">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" type="text/css" href="{% static 'categories/styles/bootstrap4/bootstrap.min.css' %}">
<link href="{% static 'categories/plugins/font-awesome-4.7.0/css/font-awesome.min.css' %}" rel="stylesheet" type="text/css">
<link rel="stylesheet" type="text/css" href="{% static 'categories/plugins/OwlCarousel2-2.2.1/owl.carousel.css' %}">
<link rel="stylesheet" type="text/css" href="{% static 'categories/plugins/OwlCarousel2-2.2.1/owl.theme.default.css' %}">
<link rel="stylesheet" type="text/css" href="{% static 'categories/plugins/OwlCarousel2-2.2.1/animate.css' %}">
<link rel="stylesheet" href="{% static 'categories/plugins/themify-icons/themify-icons.css' %}">
<link rel="stylesheet" type="text/css" href="{% static 'categories/plugins/jquery-ui-1.12.1.custom/jquery-ui.css' %}">
<link rel="stylesheet" type="text/css" href="{% static 'categories/styles/single_styles.css' %}">
<link rel="stylesheet" type="text/css" href="{% static 'categories/styles/single_responsive.css' %}">
<link href="assets/images/intro/icon.png" rel="icon">

<style>
	.table th, .table td {
    color: black;
}
	.table-responsive {
            padding-top: 100px; /* Adjust the value as needed */
        }
	/* Style for the logo image */
	.logo_container img {
		max-width: 140px; /* Ensure the logo doesn't exceed its parent's width */
		height: auto; /* Maintain the aspect ratio */
	}
	/* Style for the search icon */
	.fa-search {
		font-size: 18px;
		color: #333; /* Change the color to your preference */
		cursor: pointer;
	}
	
	
	/* Style for the search overlay */
	.search-overlay {
		display: none;
		position: absolute;
		top: 100%;
		right: 0;
		background-color: white; /* Dark background color similar to Spotify */
		border: 1px solid #CEAE67; /* Border color */
		border-radius: 4px;
		padding: 10px;
		width: 300px; /* Adjust the width as needed */
		box-shadow: 0px 4px 15px rgba(0, 0, 0, 0.4); /* Box shadow for a subtle effect */
		z-index: 999; /* Ensure the overlay appears above other elements */
	}
	a:hover{
		color: #CEAE67
	}
    button,
    .btn {
		background-color: #CEAE67;
        color: whitesmoke !important; /* Important to override other styles */
    }

    /* Style for button background color */
    .btn-primary,
    .btn-primary:hover,
    .btn-primary:focus,
    .btn-primary:active {
        background-color: #CEAE67 !important; /* Important to override other styles */
        border-color: #CEAE67 !important; /* Important to override other styles */
    }
	/* Style for the search form within the overlay */
	.search-form {
		display: flex;
		align-items: center;
	}
	
	.search-form input[type="text"] {
		border: none;
		outline: none;
		background-color: transparent;
		color: black; /* Text color */
		flex-grow: 1;
		font-size: 16px;
		padding: 5px;
	}
	
	.search-form button {
		background: none;
		border: none;
		padding: 0;
		cursor: pointer;
		color: #fff; /* Button color */
		font-size: 18px;
		margin-left: 10px;
	}
	
	/* Style for the search form when focused */
	.search-form input[type="text"]:focus {
		/* Add your focus styles here */
		border-bottom: 2px solid #CEAE67; /* Highlight when focused */
	}
	
	/* Additional styling for the container if needed */
	/*.logo_container {*/
		/* Add any additional styling you need here */
	/*}*/
	
	</style>
</head>

<body>

	<div class="super_container">

		<!-- Header -->
	
		<header class="header trans_300">
	
	
			
	
			<!-- Main Navigation -->
	
			<div class="main_nav_container">
				<div class="container">
					<div class="row">
						<div class="col-lg-12 text-right">
							<div class="logo_container">
							<img src="{% static 'assets/images/Landscape logo.png' %}" alt="Logo">
	
							</div>
							<nav class="navbar">
								<ul class="navbar_menu">
									<li><a href="index.html">Home</a></li>
									<li><a href="categories.html">Store</a></li>
									<li><a href="#">Blog</a></li>
									<li><a href="#">Helpline</a></li>
								</ul>
								<ul class="navbar_user">
									<li>
										<div class="search-icon" id="search-icon">
											<i class="fa fa-search" aria-hidden="true"></i>
										</div>
										<div class="search-overlay" id="search-overlay">
											<form class="search-form" action="#" method="GET">
												<input type="text" name="search" placeholder="Search" required>
												<button type="submit"><i class="fa fa-search" aria-hidden="true"></i></button>
											</form>
										</div>
									</li>
															
									
									<li><a href="#"><i class="fa fa-user" aria-hidden="true"></i></a></li>
									<li class="checkout">
										<a href="cart.html">
											<i class="fa fa-shopping-cart" aria-hidden="true"></i>
											<span id="checkout_items" class="checkout_items">{{ request.session.cart_data_obj|length }}</span>
										</a>
									</li>
								</ul>
								<div class="hamburger_container">
									<i class="fa fa-bars" aria-hidden="true"></i>
								</div>
							</nav>
						</div>
					</div>
				</div>
			</div>
	
		</header>

	<div class="fs_menu_overlay"></div>

	<!-- Hamburger Menu -->

	<div class="hamburger_menu">
		<div class="hamburger_close"><i class="fa fa-times" aria-hidden="true"></i></div>
		<div class="hamburger_menu_content text-right">
			<ul class="menu_top_nav">
				
				
				
				<li class="menu_item"><a href="index.html">Home</a></li>
				<li class="menu_item"><a href="categories.html">Store</a></li>
				<li class="menu_item"><a href="#">Blog</a></li>
				<li class="menu_item"><a href="#">Helpline</a></li>
				<li class="menu_item has-children">
					<a href="">
						My Account
						<i class="fa fa-angle-down"></i>
					</a>
					<ul class="menu_selection">
						<li><a href="login.html"><i class="fa fa-sign-in" aria-hidden="true"></i>Log In</a></li>
						<li><a href="signup.html"><i class="fa fa-user-plus" aria-hidden="true"></i>Sign Up</a></li>
					</ul>
				</li>
			</ul>
		</div>
	</div>

	
	<div class="row py-5 p-4 bg-white rounded shadow-sm">
		{% if cart.items.all %}
			<div class="col-lg-6">
				<div class="bg-light rounded-pill px-4 py-3 text-uppercase font-weight-bold">Order Items</div>
				<div class="p-4">
					{% for order_item in order.items.all %}
						<div class="d-flex justify-content-between align-items-center mb-3">
							<div class="d-flex flex-row align-items-center">
								<img src="{{ item.product.image.url }}" alt="{{ order_item.product.name }}" class="img-fluid rounded shadow-sm mr-2" width="50">
								<div class="ml-3">
									<h5 class="mb-0"><a href="#" class="text-dark d-inline-block align-middle">{{ order_item.product.name }}</a></h5>
									<span class="text-muted font-weight-normal font-italic d-block">Category: {{ order_item.product.category }}</span>
								</div>
							</div>
							<div>
								<span class="font-weight-bold">{{ order_item.quantity }}</span>
							</div>
						</div>
					{% endfor %}
				</div>
			</div>
		{% else %}
			<div class="col-lg-6">
				<div class="bg-light rounded-pill px-4 py-3 text-uppercase font-weight-bold">Order summary</div>
				<div class="p-4">
					<ul class="list-unstyled mb-4">
						<!-- You can dynamically calculate the order subtotal and total here -->
						<li class="d-flex justify-content-between py-3 border-bottom">
							<strong class="text-muted">Order Subtotal </strong>
							{% if cart.total_amount %}
								<strong id="order-subtotal">â‚¦{{ order_item.get_total_amount }}</strong>
							{% else %}
								<strong id="order-subtotal">N/A</strong>
							{% endif %}
						</li>
						<li class="d-flex justify-content-between py-3 border-bottom">
							<strong class="text-muted">Shipping and handling</strong>
							<strong id="shipping-cost">$10.00</strong>
						</li>
						<li class="d-flex justify-content-between py-3 border-bottom">
							<strong class="text-muted">Total</strong>
							{% if order_item.total_amount %}
								<h5 id="order-total" class="font-weight-bold">${{ order_item.get_total_amount }}</h5>
							{% else %}
								<h5 id="order-total" class="font-weight-bold">N/A</h5>
							{% endif %}
						</li>
					</ul>
					<a href="{% url 'checkout' %}" class="btn btn-dark rounded-pill py-2 btn-block">Proceed to checkout</a>
				</div>
			</div>
		{% endif %}
	</div>
	

	
	
	<!-- Newsletter -->

	<div class="newsletter">
		<div class="container">
			<div class="row">
				<div class="col-lg-6">
					<div class="newsletter_text d-flex flex-column justify-content-center align-items-lg-start align-items-md-center text-center">
						<h4>Newsletter</h4>
						<p>Subscribe to our newsletter and get amazing offers and discounts</p>
					</div>
				</div>
				<div class="col-lg-6">
					<form action="post">
						<div class="newsletter_form d-flex flex-md-row flex-column flex-xs-column align-items-center justify-content-lg-end justify-content-center">
							<input id="newsletter_email" type="email" placeholder="Your email" required="required" data-error="Valid email is required.">
							<button id="newsletter_submit" type="submit" class="newsletter_submit_btn trans_300" value="Submit">subscribe</button>
						</div>
					</form>
				</div>
			</div>
		</div>
	</div>

	
</div>
<script src="{% static 'categories/js/jquery-3.2.1.min.js' %}"></script>
<script src="{% static 'categories/styles/bootstrap4/popper.js' %}"></script>
<script src="{% static 'categories/styles/bootstrap4/bootstrap.min.js' %}"></script>
<script src="{% static 'categories/plugins/Isotope/isotope.pkgd.min.js' %}"></script>
<script src="{% static 'categories/plugins/OwlCarousel2-2.2.1/owl.carousel.js' %}"></script>
<script src="{% static 'categories/plugins/easing/easing.js' %}"></script>
<script src="{% static 'categories/plugins/jquery-ui-1.12.1.custom/jquery-ui.js' %}"></script>
<script src="{% static 'categories/js/single_custom.js' %}"></script>
<script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>

<script>
    // Function to update order summary based on selected items in the cart
    function updateOrderSummary() {
        // Assuming you have an array of products in the cart
        const products = [
            { name: 'Product 1', quantity: 2, price: {{product.price}} },
            { name: 'Product 2', quantity: 1, price: {{product.price}} },
            // Add more products as needed
        ];

        // Calculate order subtotal
        const orderSubtotal = products.reduce((total, product) => {
            return total + (product.quantity * product.price);
        }, 0);

        // Set order subtotal in the HTML
        document.getElementById('order-subtotal').innerText = `$${orderSubtotal.toFixed(2)}`;

        // Calculate total amount (excluding shipping cost and tax)
        const totalAmount = orderSubtotal;

        // Set total amount in the HTML
        document.getElementById('order-total').innerText = `$${totalAmount.toFixed(2)}`;
    }

    // Call updateOrderSummary when the page loads
    updateOrderSummary();
</script>


</body>

</html>
